Prompt for Agent – “Black Screen After Navigation” Map UI Bug (with Screenshots)

Context:
I’m building a React + Mapbox GL JS navigation app. When I search for a destination and select it, the app briefly shows the navigation route and instructions, then the whole screen goes black and nothing is visible.
This happens both on desktop and mobile (see attached screenshots for the full UI sequence).

What I’m Sharing:
	•	Screenshots showing the UI step-by-step before, during, and after the bug.
	•	Sequence:
	1.	Map with controls and “Where to?”
	2.	Navigation starts: UI with turn-by-turn instructions, blue route, speed/ETA at bottom.
	3.	(Sometimes) route visible for a split second.
	4.	Suddenly the entire app goes black—no map, no overlays.

Request:
	•	Diagnose: What is most likely causing the map to go black after starting navigation?
	•	Look for clues in how my overlays, navigation mode, or map state are handled.
	•	Are there any common mistakes in conditional rendering, state management, or modal overlays that would cause this black screen?
	•	Troubleshoot:
	•	What components or states should I review first?
	•	Is there a likely issue with how my navigation overlay or modal is being triggered?
	•	Does it look like a React re-render, Mapbox container unmount, or overlay/modal bug?
	•	Fix Suggestions:
	•	How should I refactor my rendering logic so that the map always stays visible, and only the navigation UI overlays appear on top (like Waze/Google Maps)?
	•	Suggest code changes or best practices for keeping navigation overlays layered cleanly above the map.
	•	If you see a pattern in the screenshots, suggest which UI component(s) might be “taking over” the full screen.

Collaboration:
	•	Respond with step-by-step analysis, possible causes, and a recommended debug strategy.
	•	Propose a code snippet or refactor to ensure navigation overlays always render over the map, never replacing or hiding it.
	•	Ask me for any logs, code sections, or network info you want for deeper debugging—I’ll respond with what you need.

⸻

Feel free to say you want an ongoing back-and-forth—I’m here to answer your followups and upload more screenshots or logs as you need!